
IF(PYTHON_VERSION_WITH_PATCH VERSION_LESS "3.5")
  IF(PROCESSOR_ARCHITECTURE STREQUAL "64")
    SET(PYTHON_INSTALLER "python-${PYTHON_VERSION_WITH_PATCH}.amd64.msi")
  ELSE()
    SET(PYTHON_INSTALLER "python-${PYTHON_VERSION_WITH_PATCH}.msi")
  ENDIF()
  SET(PYTHON_INSTALLER_EXT "msi")
ELSE()
  IF(PROCESSOR_ARCHITECTURE STREQUAL "64")
    SET(PYTHON_INSTALLER "python-${PYTHON_VERSION_WITH_PATCH}-amd64.exe")
  ELSE()
    SET(PYTHON_INSTALLER "python-${PYTHON_VERSION_WITH_PATCH}.exe")
  ENDIF()
  SET(PYTHON_INSTALLER_EXT "exe")
ENDIF()

IF(MSVC)
  SET(SUFFIX "_msvc")
ELSE(MSVC)
  SET(SUFFIX "_mingw")
ENDIF(MSVC)

CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/Talipot.nsi.in ${CMAKE_CURRENT_BINARY_DIR}/Talipot.nsi @ONLY)
